CONTRACT_TYPE
{
	name = required

	title = Unidentified aircraft over the KSC
	genericTitle = UAV over the KSC

	group = KUM
	agent = KUM

	description = An unidentified aircraft has recently violated KSC airspace, for the safety of future launches, you must identify and destroy the violating aircraft.
	genericDescription = You must identify and shoot down the aircraft.

	topic = Weapons
	subject = Experiment
	motivation = test

	synopsis = Identify the aircraft and then shoot it down.
	notes = It is recommended that you use air-to-air ordnance and have a decently maneuverable aircraft with a 10km ceiling for this mission.

	completedMessage = Mission accomplished! We will look over the flight log and then contact you back.

	cancellable = true
	declinable = false

	targetBody = HomeWorld()

	maxCompletions = 1
	maxSimultaneous = 1

	// Requirement node for contract prerequisites

	REQUIREMENT
	{
		name = PartUnlocked
		type = PartUnlocked
		part = missileController
	}

	rewardScience = 0
	rewardReputation = 10
	rewardFunds = 16000
	failureReputation = 4
	failureFunds = 4000
	advanceFunds = 4000

	// Behaviour such as vessel location, name etc

	BEHAVIOUR
	{
		name = SpawnVessel
		type = SpawnVessel
		deferVesselCreation = true

		VESSEL
		{
			name = UnidentifiedAircraft
			craftURL = ContractPacks/KUM/ships/enemy_drone.craft
			flagURL = Squad/Flags/satellite
			vesselType = Unknown
			owned = false
			targetBody = HomeWorld()

			lat = Random(-0.0, -0.1)
			lon = Random(-73.575, -72.575)
			alt = Random(5000.0, 7000.0)

			heading = Random(0.0, 360.0)
			pitch = -45.0
		}
	}

	BEHAVIOUR
	{
		name = DestroyVessel
		type = DestroyVessel

		onState = CONTRACT_COMPLETED

		vessel = UnidentifiedAircraft
	}

	// Parameter node for contract completion

	PARAMETER
	{
		name = Sequence
		type = Sequence

		hiddenParameter = TargetRendezvousDuration
		hiddenParameter = TargetDestroyed
		failWhenCompleteOutOfOrder = true

		title = Identify and destroy the aircraft

		PARAMETER
		{
			name = TargetRendezvous
			type = Rendezvous

			vessel = UnidentifiedAircraft

			distance = 500.0

			disableOnStateChange = true

			title = Approach the vehicle within 500 m of distance
		}

		PARAMETER
		{
			name = TargetRendezvousDuration
			type = Duration

			duration = 5s

			preWaitText = Rendezvous for identification
			waitingText = Identifying aircraft...
			completionText = Identification

			startCriteria = PARAMETER_COMPLETION
			parameter = TargetRendezvous
		}

		PARAMETER
		{
			name = TargetDestroyed
			type = TargetDestroyed

			vessel = UnidentifiedAircraft

			title = Destroy the aircraft
		}

		PARAMETER
		{
			name = RecoverVessel
			type = RecoverVessel

			title = Land and/or recover the interceptor vehicle safely
			completedMessage = The interceptor was successfully recovered!
		}
	}
}
